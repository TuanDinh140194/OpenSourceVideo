(function(f){function l(a,b){b||(b=0);var h=moment().add(b,"d").isoWeekday();return a[p[h]]}function m(){var a=moment().format("H.mm");return parseFloat(a)}function k(a){var b=Math.floor(a);return Math.floor(60*b+(Math.round(100*a)-Math.round(100*b)))}function n(a){if(a=l(a)){var b=!1,h=m();f.each(a,function(a,c){var e;if(!(e=b))if(f.isArray(c)){var g=c[1];e=k(c[0]);g=k(g);var d=k(h);e=d>=e&&d<=g}else e=!1;b=e});return b}return!1}var d={open:"open",closed:"closed",closing_in:"we are closing",opening_in:"we are opening",
tomorrow:"tomorrow","in":"in",on:"on",days:"days",at:"at",hours:"h.",minutes:"min.",and:"",weekDays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},p={1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday",7:"sunday"},q=function(a){function b(a){var b=[];a=moment().add(a,"minutes");if(a.isSame(moment(),"day")){var c=a.diff(moment()),e=moment.duration(c);c=e.asHours();e=e.asMinutes();b.push(d["in"]);1<=c&&(c=Math.floor(c),b.push(c+" h."),e-=60*c);1<=e&&b.push(e+
" min.");b.push(d.at);b.push(a.format("H:mm"));return b.join(" ").trim()}return a.calendar(moment()).trim()}a=function(a){function b(b){var e,c=0,d="open"===b?1:0,h=m();for(c;7>c;c++)if(b=l(a,c))if(f.each(b,function(a,b){if(b&&b.length){var g;if(!(g=0<c)){g=k(b[d]);var f=k(h);g=g>f}if(g)return g=c,e=k(24)*g+k(b[d])-k(h),!1}}),e)return e}return n(a)?{closingIn:b("open")}:{openingIn:b("closed")}}(a);return a.closingIn?d.closing_in+" "+b(a.closingIn):a.openingIn?d.opening_in+" "+b(a.openingIn):"Unknown!"},
r=function(a){a&&f.each(d,function(b){a[b]&&(d[b]=a[b])})},t=function(){-1===f.inArray("ourLocale",moment.locales())&&(moment.defineLocale("ourLocale",{parentLocale:"pl"}),moment.locale("ourLocale"),moment.updateLocale("ourLocale",{meridiem:function(){return""},calendar:{nextDay:"["+d.tomorrow+"] ["+d.at+"] H:mm",sameDay:"["+d.at+"] H:mm",nextWeek:"["+d.on+"] dddd ["+d.at+"] H:mm"},weekdays:d.weekDays}))},u=function(a){function b(a){var b=Math.floor(a),c=Math.floor(100*a-100*b);if(23<b)throw"invalid time format (hour part > 23) in "+
a;if(0>b)throw"invalid time format (hour part < 0) in "+a;if(59<c)throw"invalid time format (minute part > 59) in "+a;}if(!a)throw"options object is undefined!";if(!a.hours)throw"undefined hours!";f.each(a.hours,function(a,d){if(!f.isArray(d))throw"hours values should be array!";for(var c=0;c<d.length;c++){var e=d[c];if(!f.isArray(e))throw'element "'+e+'" in weekday "'+a+'" is not an array!';if(2!==e.length)throw'array of hours for weekday "'+a+'" is not of length 2 (opening and closing hour)';b(e[0]);
b(e[1])}})};f.fn.openingHours=function(a){try{u(a);r(a.messages);t();if("closing-in"===a.show)var b=q(a.hours);else if("current-status"===a.show)b=n(a.hours)?d.open:d.closed;else throw a.show+"is not correct option";return this.append(b)}catch(h){return console.warn(h),this.append("Error!")}}})(jQuery);